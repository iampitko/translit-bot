require('dotenv').config()
const { Telegraf } = require('telegraf')
const translit = require('ua-en-translit');
const convert = require('translit-english-ukrainian')



const bot = new Telegraf(process.env.BOT_TOKEN)



bot.start((ctx) => ctx.reply(
    `
ÐŸÑ€Ð¸Ð²Ñ–Ñ‚, ${ctx.message.from.first_name}!
Ð¦ÐµÐ¹ Ð±Ð¾Ñ‚ Ñ‚Ñ€Ð°Ð½ÑÐ»Ñ–Ñ‚ÐµÑ€ÑƒÑ” Ð· ÑƒÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ¾Ñ— Ð½Ð° Ð°Ð½Ð³Ð»Ñ–Ð¹ÑÑŒÐºÑƒ Ñ‚Ð° Ð½Ð°Ð²Ð¿Ð°ÐºÐ¸.
Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ Ñ‚ÐµÐºÑÑ‚, Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð¸Ð¹ ÑƒÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ¸Ð¼Ð¸ Ð°Ð±Ð¾ Ð°Ð½Ð³Ð»Ñ–Ð¹ÑÑŒÐºÐ¸Ð¼Ð¸ Ð±ÑƒÐºÐ²Ð°Ð¼Ð¸.
ÐŸÑ–Ð´ Ð½Ð¸Ð·Ð¾Ð¼ Ð·'ÑÐ²Ð¸Ñ‚ÑŒÑÑ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ñ‚Ñ€Ð°Ð½ÑÐ»Ñ–Ñ‚ÐµÑ€Ð°Ñ†Ñ–Ñ—.
Ð”Ð¾Ð´Ð°Ñ‚ÐºÐ¾Ð²Ñƒ Ñ–Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–ÑŽ Ð¼Ð¾Ð¶Ð½Ð° Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾ÑŽ /help.
`
))



bot.help((ctx) => ctx.reply(
    `
    Ð¡ÐµÑ€Ð²Ñ–Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡Ð½Ð¾Ñ— Ñ‚Ñ€Ð°Ð½ÑÐ»Ñ–Ñ‚ÐµÑ€Ð°Ñ†Ñ–Ñ— Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð°Ñ” Ð¾Ñ„Ñ–Ñ†Ñ–Ð¹Ð½Ð¸Ð¼ Ð²Ð¸Ð¼Ð¾Ð³Ð°Ð¼ ÐšÐ°Ð±Ñ–Ð½ÐµÑ‚Ñƒ ÐœÑ–Ð½Ñ–ÑÑ‚Ñ€Ñ–Ð² Ð£ÐºÑ€Ð°Ñ—Ð½Ð¸. Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑŽÑ‡Ð¸ Ð¹Ð¾Ð³Ð¾, Ð²Ð¸ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ñ€Ð¾Ñ‚Ñ€Ð°Ð½ÑÐ»Ñ–Ñ‚ÐµÑ€ÑƒÐ²Ð°Ñ‚Ð¸ ÑÐº ÑÐ¿Ð¸ÑÐ¾Ðº Ð¿Ð¾ÑÐ¸Ð»Ð°Ð½ÑŒ Ð´Ð»Ñ Ð½Ð°ÑƒÐºÐ¾Ð²Ð¾Ñ— ÑÑ‚Ð°Ñ‚Ñ‚Ñ–, Ñ‚Ð°Ðº Ñ– Ð²Ð°ÑˆÐµ Ð¿Ñ€Ñ–Ð·Ð²Ð¸Ñ‰Ðµ, Ñ–Ð¼â€™Ñ Ñ‚Ð° Ð¿Ð¾ Ð±Ð°Ñ‚ÑŒÐºÐ¾Ð²Ñ– Ð´Ð»Ñ Ð¿Ð°ÑÐ¿Ð¾Ñ€Ñ‚Ð½Ð¾Ñ— Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ñ–Ñ—. Ð¢Ñ€Ð°Ð½ÑÐ»Ñ–Ñ‚ÐµÑ€ÑƒÐ²Ð°Ð½Ð½Ñ Ð²Ð¸ÐºÐ¾Ð½ÑƒÑ”Ñ‚ÑŒÑÑ Ð·Ð³Ñ–Ð´Ð½Ð¾ Ð· ÐŸÐ¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð¾ÑŽ ÐšÐ°Ð±Ñ–Ð½ÐµÑ‚Ñƒ ÐœÑ–Ð½Ñ–ÑÑ‚Ñ€Ñ–Ð² Ð£ÐºÑ€Ð°Ñ—Ð½Ð¸ Ð²Ñ–Ð´ 27 ÑÑ–Ñ‡Ð½Ñ 2010 Ñ€. â„– 55 Â«ÐŸÑ€Ð¾ Ð²Ð¿Ð¾Ñ€ÑÐ´ÐºÑƒÐ²Ð°Ð½Ð½Ñ Ñ‚Ñ€Ð°Ð½ÑÐ»Ñ–Ñ‚ÐµÑ€Ð°Ñ†Ñ–Ñ— ÑƒÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ¾Ð³Ð¾ Ð°Ð»Ñ„Ð°Ð²Ñ–Ñ‚Ñƒ Ð»Ð°Ñ‚Ð¸Ð½Ð¸Ñ†ÐµÑŽÂ».
    `
))



bot.on('text', async (ctx) => 
{



    let uaName = (ctx.message.text);
    
    
    
    try{

        const enName = await translit.async(uaName);
        const enName1 = convert(uaName)

        const format = `
Ð¢ÐµÐºÑÑ‚ Ð´Ð»Ñ Ñ‚Ñ€Ð°Ð½ÑÐ»Ñ–Ñ‚ÐµÑ€Ð°Ñ†Ñ–Ñ—: ${ctx.message.text}

Ð¢Ñ€Ð°Ð½ÑÐ»Ñ–Ñ‚ÐµÑ€Ð¾Ð²Ð°Ð½Ð¸Ð¹ Ñ‚ÐµÐºÑÑ‚ðŸ‡¬ðŸ‡§: ${enName}

Ð¢Ñ€Ð°Ð½ÑÐ»Ñ–Ñ‚ÐµÑ€Ð¾Ð²Ð°Ð½Ð¸Ð¹ Ñ‚ÐµÐºÑÑ‚ðŸ‡ºðŸ‡¦: ${enName1}
        `

        ctx.reply (format);
    } catch {
        ctx.reply('Ð—Ð±Ñ–Ð¹');
    }
})



bot.on('sticker', (ctx) => ctx.reply('Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ Ñ‚ÐµÐºÑÑ‚ Ð´Ð»Ñ Ñ‚Ñ€Ð°Ð½ÑÐ»Ñ–Ñ‚ÐµÑ€Ð°Ñ†Ñ–Ñ—'))



bot.launch()



process.once('SIGINT', () => bot.stop('SIGINT'))
process.once('SIGTERM', () => bot.stop('SIGTERM'))